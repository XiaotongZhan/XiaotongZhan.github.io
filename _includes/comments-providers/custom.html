<!-- start custom comments snippet -->
<div class="giscus"></div>
<script src="https://giscus.app/client.js"
        data-repo="XiaotongZhan/XiaotongZhan.github.io"
        data-repo-id="R_kgDOPmvuTQ"
        data-category="Comments"
        data-category-id="DIC_kwDOPmvuTc4Cu6TG"
        data-mapping="pathname"
        data-reactions-enabled="1"
        data-input-position="bottom"
        data-lang="en"
        data-theme="light"
        crossorigin="anonymous"
        async>
</script>

<script>
  function mapSiteThemeToGiscus() {
    return document.documentElement.getAttribute('data-theme') === 'dark'
      ? 'dark_dimmed'
      : 'light';
  }

  function setGiscusTheme(theme) {
    const frame = document.querySelector('iframe.giscus-frame');
    if (!frame) return;
    frame.contentWindow.postMessage(
      { giscus: { setConfig: { theme } } },
      'https://giscus.app'
    );
  }

  new MutationObserver(() => {
    setGiscusTheme(mapSiteThemeToGiscus());
  }).observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
</script>
<!-- end custom comments snippet -->